(this["webpackJsonpnoteful-react-client"]=this["webpackJsonpnoteful-react-client"]||[]).push([[0],{29:function(e,t,r){},30:function(e,t,r){},37:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),o=r(23),s=r.n(o),i=r(8),c=(r(29),r(19)),l=r(4),d=r(5),h=r(7),u=r(6),j=r(2),f=(r(30),"postgresql"),p="https://asktami-cors-anywhere.herokuapp.com/https://asktami-noteful-api.herokuapp.com/api/notes",m="https://asktami-cors-anywhere.herokuapp.com/https://asktami-noteful-api.herokuapp.com/api/folders",b="2934a46e-eec9-11e9-81b4-2a2ae2dbcce4",O=a.a.createContext({folders:[],notes:[],deleteNote:function(){},addNote:function(){},addFolder:function(){},addErrorNotes:function(){},addErrorFolders:function(){},notesError:function(){},updateFolders:function(){},updateNotes:function(){},handleClickDeleteFolder:function(){}}),x=r(0),v=function(e){return Object(x.jsxs)("header",{children:[Object(x.jsx)("span",{children:Object(x.jsx)("h1",{children:Object(x.jsx)(i.b,{to:"/",children:"Noteful"})})}),Object(x.jsxs)("span",{children:["a React app",Object(x.jsx)("br",{}),"(everything takes a couple of seconds to load)"]})]})},g=function(e){return Object(x.jsxs)("footer",{children:["\xa9 2019"," ",Object(x.jsx)("a",{href:"http://www.asktami.com",target:"_blank",rel:"noopener noreferrer",children:"Tami Williams"})]})},C=function(e){Object(h.a)(r,e);var t=Object(u.a)(r);function r(e){var n;return Object(l.a)(this,r),(n=t.call(this,e)).state={hasError:!1},n}return Object(d.a)(r,[{key:"componentDidCatch",value:function(e,t){}},{key:"render",value:function(){return this.state.hasError?Object(x.jsx)("h2",{children:"Could not display this folder."}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),r}(a.a.Component),E=function(e){var t,r=Object(n.useContext)(O),a=r.notes,o=r.folders,s=r.handleClickDeleteFolder;return t="postgresql"===f?parseInt(e.match.params.id_folder):e.match.params.id_folder,Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("header",{children:Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h2",{children:"Folders"}),"\xa0\xa0",Object(x.jsx)(i.c,{to:"/add-folder",children:Object(x.jsx)("button",{className:"btn-add",children:"+"})}),"\xa0\xa0",void 0!==e.match.params.id_folder?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(i.c,{to:"/edit-folder/".concat(e.match.params.id_folder),children:Object(x.jsx)("button",{className:"btn-edit",children:"\u270e"})}),"\xa0\xa0",Object(x.jsx)("button",{className:"btn-delete",onClick:function(){return s(t,e)},children:"-"})]}):null]})}),Object(x.jsx)("ul",{children:o.map((function(e){return Object(x.jsx)("li",{className:e.id===t?" active":null,children:Object(x.jsx)(C,{children:Object(x.jsxs)(i.c,{to:"/folders/".concat(e.id),children:[Object(x.jsx)("span",{role:"img","aria-label":"Folder",children:"\ud83d\udcc2"}),"\xa0",e.name,"\xa0(",a.filter((function(t){return t.id_folder===e.id})).length,")"]})})},e.id)}))})]})},N=function(e){var t,r=Object(n.useContext)(O),a=r.folders,o=r.notes;t="postgresql"===f?parseInt(e.match.params.noteId):e.match.params.noteId;var s=o?o.find((function(e){return e.id===t})):"";if(!s)return"Sorry, no note found.";var c=s.id_folder,l=a.filter((function(e){return e.id===c}));return Object(x.jsx)(x.Fragment,{children:l?l.map((function(t){return Object(x.jsx)("header",{children:Object(x.jsxs)("h2",{children:[t.name,Object(x.jsx)("br",{}),Object(x.jsx)(i.c,{to:"/edit-folder/".concat(t.id),children:Object(x.jsx)("button",{className:"btn-edit",children:"\u270e"})}),Object(x.jsx)("br",{}),Object(x.jsx)("button",{className:"btn-save",onClick:e.history.goBack,children:"Go Back"})]})},t.id)})):null})},y=r(9),F=function(e){Object(h.a)(r,e);var t=Object(u.a)(r);function r(e){var n;return Object(l.a)(this,r),(n=t.call(this,e)).state={hasError:!1},n}return Object(d.a)(r,[{key:"componentDidCatch",value:function(e,t){}},{key:"render",value:function(){return this.state.hasError?Object(x.jsx)("h2",{children:"Could not display this note."}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),r}(a.a.Component),S=function(e){Object(h.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(l.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).handleClickDelete=function(t){t.preventDefault();var r=e.props.note.id;fetch(p+"/".concat(r),{method:"DELETE",headers:{"content-type":"application/json",authorization:"Bearer ".concat(b)}}).then((function(e){return e.ok&&"404"!==e.status?e.json():e.json().then((function(t){throw e.status}))})).then((function(t){e.context.deleteNote(r),e.props.location.pathname.includes("/notes/")&&e.props.history.push("/"),e.props.location.pathname.includes("/folders/")&&e.props.history.push(e.props.location.pathname)})).catch((function(t){404!==t&&e.context.addErrorNotes(t),404===t&&(e.context.deleteNote(r),e.props.location.pathname.includes("/notes/")&&e.props.history.push("/"),e.props.location.pathname.includes("/folders/")&&e.props.history.push(e.props.location.pathname))}))},e}return Object(d.a)(r,[{key:"render",value:function(){return Object(x.jsxs)("div",{className:"note-item",children:[this.context.notesError&&Object(x.jsx)("p",{className:"error",children:this.context.notesError.value}),Object(x.jsx)(i.c,{to:{pathname:"/notes/".concat(this.props.note.id),props:this.props},children:Object(x.jsx)("h3",{children:this.props.note.name})}),Object(x.jsxs)("div",{className:"button-container",children:[Object(x.jsxs)("span",{children:["Modified on"," ",Object(x.jsxs)("span",{className:"note-datemod",children:[" ",this.props.note.modified?this.props.note.modified.toString().split("T",1)[0]:""]})]}),Object(x.jsxs)("span",{children:[Object(x.jsx)(i.c,{to:"/edit-note/".concat(this.props.note.id),children:Object(x.jsx)("button",{className:"btn-edit-note",children:"\u270e"})}),"\xa0\xa0\xa0",Object(x.jsx)("button",{className:"btn-delete-note",onClick:this.handleClickDelete,children:"-"})]})]})]})}}]),r}(a.a.Component);S.contextType=O;var k=function(e){var t,r=Object(n.useContext)(O).notes;t="postgresql"===f?parseInt(e.match.params.id_folder):e.match.params.id_folder;var a=e.match.params.id_folder?r.filter((function(e){return e.id_folder===t})):r;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("header",{children:[Object(x.jsx)("h2",{children:"Notes"}),"\xa0\xa0",Object(x.jsx)(i.c,{to:{pathname:"/add-note",state:{id_folder:e.match.params.id_folder}},children:Object(x.jsx)("button",{className:"btn-add",children:"+"})})]}),a.length>0?a.map((function(t){return Object(x.jsx)("section",{children:Object(x.jsx)(F,{children:Object(x.jsx)("div",{className:"note",children:Object(x.jsx)(S,Object(y.a)({note:t},e))})})},t.id)})):Object(x.jsx)("section",{className:"no-border",children:Object(x.jsx)("div",{className:"note",children:"No notes in this folder."})})]})},_=function(e){var t,r=Object(n.useContext)(O).notes;t="postgresql"===f?parseInt(e.match.params.noteId):e.match.params.noteId;var a=r.find((function(e){return e.id===t}))||{};return Object(x.jsx)("section",{children:Object(x.jsxs)("div",{className:"note",children:[Object(x.jsx)(S,Object(y.a)(Object(y.a)({},e),{},{note:a})),Object(x.jsx)("p",{className:"note-content",children:a.content})]})})},D=r(12);function T(e){return e.message?Object(x.jsx)("div",{className:"error",id:e.id,children:e.message}):Object(x.jsx)(x.Fragment,{})}var q=function(e){Object(h.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(l.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={apiError:null,formValid:!1,errorCount:null,name:"",errors:{name:"You must enter a folder name"}},e.updateErrorCount=function(){var t=e.state.errors,r=0;Object.values(t).forEach((function(e){e.length>0&&r++})),e.setState({errorCount:r});var n=0===r;e.setState({formValid:n})},e.validateField=function(t,r){var n="";"name"===t&&(0===r.trim().length?n="Folder name is required":r.trim().length<3&&(n="Folder name must be at least 3 characters long"));var a=Object(y.a)({},e.state).errors;a[t]=n,e.setState({errors:a})},e.handleChange=function(t){var r=t.target,n=r.name,a=r.value;e.setState(Object(D.a)({},n,a.trim())),e.validateField(n,a),e.updateErrorCount()},e.handleClickCancel=function(){e.props.history.push("/")},e.handleSubmit=function(t){if(t.preventDefault(),!(e.state.errorCount>0)){var r=t.target.name,n={name:r.value};e.setState({apiError:null}),fetch(m,{method:"POST",body:JSON.stringify(n),headers:{"content-type":"application/json",Authorization:"Bearer ".concat(b)}}).then((function(e){return e.ok?e.json():e.json().then((function(e){throw e}))})).then((function(t){r.value="",e.context.addFolder(t),e.props.history.push("/folders/".concat(t.id))})).catch((function(t){e.setState({apiError:t})}))}},e}return Object(d.a)(r,[{key:"render",value:function(){var e=this.state.errors;return this.state.apiError?Object(x.jsx)("p",{className:"error",children:this.state.apiError}):Object(x.jsxs)("form",{className:"addFolderForm",onSubmit:this.handleSubmit,noValidate:!0,children:[Object(x.jsxs)("fieldset",{children:[Object(x.jsx)("legend",{children:"New Folder"}),Object(x.jsx)("label",{htmlFor:"name",children:"Name"}),Object(x.jsx)("input",{type:"text",id:"name",name:"name","aria-label":"Folder Name",required:!0,"aria-required":"true","aria-describedby":"folderNameError","aria-invalid":"true",onChange:this.handleChange}),e.name.length>0&&Object(x.jsx)(T,{message:e.name,id:"folderNameError"}),Object(x.jsx)("br",{}),Object(x.jsx)("button",{className:"btn-cancel",onClick:this.handleClickCancel,children:"Cancel"})," ",Object(x.jsx)("button",{className:"btn-save",disabled:!1===this.state.formValid,children:"Save Folder"})]}),null!==this.state.errorCount?Object(x.jsxs)("p",{className:"form-status",children:["Form is ",this.state.formValid?"complete  \u2705":"incomplete  \u274c"]}):null]})}}]),r}(a.a.Component);q.contextType=O;var w=q,V=function(e){Object(h.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(l.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={apiError:null,formValid:!1,errorCount:null,id_folder:e.props.location.state.id_folder||"",name:"",content:"",errors:{id_folder:!e.props.location.state.id_folder&&"You must select a folder",name:"You must enter a note title",content:"You must enter a description"}},e.updateErrorCount=function(){var t=e.state.errors,r=0;Object.values(t).forEach((function(e){e.length>0&&r++})),e.setState({errorCount:r});var n=0===r;e.setState({formValid:n})},e.validateField=function(t,r){var n="";"name"===t&&(0===r.length?n="Note title is required":r.length<3&&(n="Note title must be at least 3 characters long")),"id_folder"===t&&0===r.length&&(n="You must select a folder"),"content"===t&&(0===r.length?n="You must enter a description":r.length<5&&(n="The description must be at least 5 characters long"));var a=Object(y.a)({},e.state).errors;a[t]=n,e.setState({errors:a})},e.handleChange=function(t){var r=t.target,n=r.name,a=r.value;e.setState(Object(D.a)({},n,a.trim())),e.validateField(n,a.trim()),e.updateErrorCount()},e.handleClickCancel=function(){e.props.history.push("/")},e.handleSubmit=function(t){if(t.preventDefault(),!(e.state.errorCount>0)){var r=t.target,n=r.id_folder,a=r.name,o=r.content,s={id_folder:n.value,name:a.value,content:o.value,modified:new Date(Date.UTC())};e.setState({apiError:null}),fetch(p,{method:"POST",body:JSON.stringify(s),headers:{"content-type":"application/json",Authorization:"Bearer ".concat(b)}}).then((function(e){return e.ok?e.json():e.json().then((function(e){throw e}))})).then((function(t){n.value="",a.value="",o.value="",e.context.addNote(t),e.props.history.push("/folders/".concat(n.value))})).catch((function(t){e.setState({apiError:t})}))}},e}return Object(d.a)(r,[{key:"render",value:function(){var e=this.state.errors,t=this.context.folders;return this.state.apiError?Object(x.jsx)("p",{className:"error",children:this.state.apiError}):Object(x.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(x.jsxs)("fieldset",{children:[Object(x.jsx)("legend",{children:"New Note"}),Object(x.jsx)("label",{htmlFor:"id_folder",children:"Folder"}),Object(x.jsxs)("select",{id:"id_folder",name:"id_folder","aria-label":"Folder Id",required:!0,"aria-required":"true","aria-describedby":"id_folderError","aria-invalid":"true",value:this.state.id_folder,onChange:this.handleChange,children:[Object(x.jsx)("option",{value:"",children:"Select a folder"}),t.map((function(e){return Object(x.jsx)("option",{value:e.id,children:e.name},e.id)}))]}),e.id_folder.length>0&&Object(x.jsx)(T,{id:"id_folderError",message:e.id_folder}),Object(x.jsx)("label",{htmlFor:"name",children:"Title"}),Object(x.jsx)("input",{type:"text",id:"name",name:"name",onChange:this.handleChange,"aria-label":"Note Title",required:!0,"aria-required":"true","aria-describedby":"noteTitleError","aria-invalid":"true"}),e.name.length>0&&Object(x.jsx)(T,{id:"noteTitleError",message:e.name}),Object(x.jsx)("label",{htmlFor:"content",children:"Description"}),Object(x.jsx)("textarea",{id:"content",name:"content",onChange:this.handleChange,"aria-label":"Note Description",required:!0,"aria-required":"true","aria-describedby":"noteDescriptionError","aria-invalid":"true"}),e.content.length>0&&Object(x.jsx)(T,{id:"noteDescriptionError",message:e.content}),Object(x.jsx)("br",{}),Object(x.jsx)("button",{className:"btn-cancel",onClick:this.handleClickCancel,children:"Cancel"})," ",Object(x.jsx)("button",{className:"btn-save",disabled:!1===this.state.formValid,children:"Save Note"})]}),null!==this.state.errorCount?Object(x.jsxs)("p",{className:"form-status",children:["Form is ",this.state.formValid?"complete  \u2705":"incomplete  \u274c"]}):null]})}}]),r}(a.a.Component);V.contextType=O;var I=V,A=function(e){Object(h.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(l.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={apiError:null,formValid:!0,errorCount:null,id:e.props.match.params.id_folder,name:"",errors:{name:""}},e.updateErrorCount=function(){var t=e.state.errors,r=0;Object.values(t).forEach((function(e){e.length>0&&r++})),e.setState({errorCount:r});var n=0===r;e.setState({formValid:n})},e.validateField=function(t,r){var n="";"name"===t&&(0===r.trim().length?n="Folder name is required":r.trim().length<3&&(n="Folder name must be at least 3 characters long"));var a=Object(y.a)({},e.state).errors;a[t]=n,e.setState({errors:a})},e.handleChange=function(t){var r=t.target,n=r.name,a=r.value;e.setState(Object(D.a)({},n,a.trim())),e.validateField(n,a),e.updateErrorCount()},e.handleClickCancel=function(){e.props.history.push("/")},e.resetFields=function(t){e.setState({id:t.id||"",name:t.name||""})},e.handleSubmit=function(t){if(t.preventDefault(),!(e.state.errorCount>0)){var r=e.props.match.params.id_folder,n=e.state,a={id:n.id,name:n.name};e.setState({apiError:null}),fetch(m+"/".concat(r),{method:"PATCH",body:JSON.stringify(a),headers:{"content-type":"application/json",authorization:"Bearer ".concat(b)}}).then((function(e){if(!e.ok)return e.json().then((function(e){return Promise.reject(e)}))})).then((function(){e.resetFields(a),e.context.updateFolders(a),e.props.history.push("/")})).catch((function(t){e.setState({apiError:t})}))}},e}return Object(d.a)(r,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id_folder;fetch(m+"/".concat(t),{method:"GET",headers:{"content-type":"application/json",authorization:"Bearer ".concat(b)}}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).then((function(t){e.setState({id:t.id,name:t.name})})).catch((function(t){e.setState({apiError:t})}))}},{key:"render",value:function(){var e=this,t=this.state.errors;return this.state.apiError?Object(x.jsx)("p",{className:"error",children:this.state.apiError}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("form",{className:"editFolderForm",onSubmit:this.handleSubmit,noValidate:!0,children:Object(x.jsxs)("fieldset",{children:[Object(x.jsx)("legend",{children:"Edit Folder"}),Object(x.jsx)("label",{htmlFor:"name",children:"Name"}),Object(x.jsx)("input",{type:"text",id:"name",name:"name","aria-label":"Folder Name",required:!0,"aria-required":"true","aria-describedby":"folderNameError","aria-invalid":"true",value:this.state.name,onChange:this.handleChange}),t.name.length>0&&Object(x.jsx)(T,{message:t.name,id:"folderNameError"}),Object(x.jsx)("br",{}),Object(x.jsx)("button",{className:"btn-cancel",onClick:this.handleClickCancel,children:"Cancel"})," ",Object(x.jsx)("button",{className:"btn-save",disabled:!1===this.state.formValid,children:"Save Folder"})," "]})}),this.state.formValid?Object(x.jsx)("button",{className:"btn-delete-folder btn-position",disabled:!1===this.state.formValid,onClick:function(){return e.context.handleClickDeleteFolder(e.state.id,e.props)},children:"Delete"}):null,null!==this.state.errorCount?Object(x.jsxs)("p",{className:"form-status",children:["Form is ",this.state.formValid?"complete  \u2705":"incomplete  \u274c"]}):null]})}}]),r}(a.a.Component);A.contextType=O;var B=A,z=function(e){Object(h.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(l.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={apiError:null,formValid:!0,errorCount:null,id:"",id_folder:"",name:"",content:"",errors:{id_folder:"",name:"",content:""}},e.updateErrorCount=function(){var t=e.state.errors,r=0;Object.values(t).forEach((function(e){e.length>0&&r++})),e.setState({errorCount:r});var n=0===r;e.setState({formValid:n})},e.validateField=function(t,r){var n="";"name"===t&&(0===r.length?n="Note title is required":r.length<3&&(n="Note title must be at least 3 characters long")),"id_folder"===t&&0===r.length&&(n="You must select a folder"),"content"===t&&(0===r.length?n="You must enter a description":r.length<5&&(n="The description must be at least 5 characters long"));var a=Object(y.a)({},e.state).errors;a[t]=n,e.setState({errors:a})},e.handleChange=function(t){var r=t.target,n=r.name,a=r.value;e.setState(Object(D.a)({},n,a)),e.validateField(n,a),e.updateErrorCount()},e.handleClickCancel=function(){e.props.history.push("/")},e.resetFields=function(t){e.setState({id:t.id||"",name:t.name||"",content:t.content||"",id_folder:t.id_folder||""})},e.handleSubmit=function(t){if(t.preventDefault(),!(e.state.errorCount>0)){var r=e.props.match.params.noteId,n={id:"postgresql"===f?parseInt(e.state.id):e.state.id,id_folder:"postgresql"===f?parseInt(e.state.id_folder):e.state.id_folder,name:e.state.name,content:e.state.content,modified:new Date};e.setState({apiError:null}),fetch(p+"/".concat(r),{method:"PATCH",body:JSON.stringify(n),headers:{"content-type":"application/json",authorization:"Bearer ".concat(b)}}).then((function(e){if(!e.ok)return e.json().then((function(e){return Promise.reject(e)}))})).then((function(){e.resetFields(n),e.context.updateNotes(n),e.props.history.push("/folders/".concat(e.state.id_folder))})).catch((function(t){t(t),e.setState({apiError:t})}))}},e}return Object(d.a)(r,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.noteId;fetch(p+"/".concat(t),{method:"GET",headers:{"content-type":"application/json",authorization:"Bearer ".concat(b)}}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).then((function(t){e.setState({id:t.id,name:t.name,id_folder:t.id_folder,content:t.content})})).catch((function(t){e.setState({apiError:t})}))}},{key:"render",value:function(){var e=this.state,t=e.errors,r=e.name,n=e.content,a=e.id_folder,o=this.context.folders;return this.state.apiError?Object(x.jsx)("p",{className:"error",children:this.state.apiError}):Object(x.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(x.jsxs)("fieldset",{children:[Object(x.jsx)("legend",{children:"Edit Note"}),Object(x.jsx)("label",{htmlFor:"id_folder",children:"Folder"}),Object(x.jsxs)("select",{id:"id_folder",name:"id_folder","aria-label":"Folder Id",required:!0,"aria-required":"true","aria-describedby":"id_folderError","aria-invalid":"true",value:a,onChange:this.handleChange,children:[Object(x.jsx)("option",{value:"",children:"Select a folder"}),o.map((function(e){return Object(x.jsx)("option",{value:e.id,children:e.name},e.id)}))]}),t.id_folder.length>0&&Object(x.jsx)(T,{id:"id_folderError",message:t.id_folder}),Object(x.jsx)("label",{htmlFor:"name",children:"Title"}),Object(x.jsx)("input",{type:"text",id:"name",name:"name",value:r,onChange:this.handleChange,"aria-label":"Note Title",required:!0,"aria-required":"true","aria-describedby":"noteTitleError","aria-invalid":"true"}),t.name.length>0&&Object(x.jsx)(T,{id:"noteTitleError",message:t.name}),Object(x.jsx)("label",{htmlFor:"content",children:"Description"}),Object(x.jsx)("textarea",{id:"content",name:"content",value:n,onChange:this.handleChange,"aria-label":"Note Description",required:!0,"aria-required":"true","aria-describedby":"noteDescriptionError","aria-invalid":"true"}),t.content.length>0&&Object(x.jsx)(T,{id:"noteDescriptionError",message:t.content}),Object(x.jsx)("br",{}),Object(x.jsx)("button",{className:"btn-cancel",onClick:this.handleClickCancel,children:"Cancel"})," ",Object(x.jsx)("button",{className:"btn-save",disabled:!1===this.state.formValid,children:"Save Note"})]}),null!==this.state.errorCount?Object(x.jsxs)("p",{className:"form-status",children:["Form is ",this.state.formValid?"complete  \u2705":"incomplete  \u274c"]}):null]})}}]),r}(a.a.Component);z.contextType=O;var P=[{path:"/",exact:!0,header:v,aside:E,section:k},{path:"/folders/:id_folder",exact:!0,header:v,aside:E,section:k},{path:"/notes/:noteId",exact:!0,header:v,aside:N,section:_},{path:"/add-folder",exact:!0,header:v,aside:null,section:w},{path:"/add-note",exact:!0,header:v,aside:null,section:I},{path:"/edit-note/:noteId",exact:!0,header:v,aside:null,section:z},{path:"/edit-folder/:id_folder",exact:!0,header:v,aside:null,section:B},{path:"/delete-folder/:id_folder",exact:!0,header:v,aside:E,section:k},{path:"/:any/:any/:any",exact:!0,header:v,aside:function(){return null},section:function(){return"Do not edit the  url!"}}],Y=function(e){Object(h.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(l.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={folders:[],notes:[],foldersError:null,notesError:null,deleteFolderId:null},e.deleteNote=function(t){var r=e.state.notes.filter((function(e){return e.id!==t}));e.setState({notes:r})},e.deleteFolder=function(t){var r=e.state.folders.filter((function(e){return e.id!==t}));e.setState({folders:r}),e.getNotes()},e.addNote=function(t){e.setState({notes:[].concat(Object(c.a)(e.state.notes),[t])})},e.addFolder=function(t){e.setState({folders:[].concat(Object(c.a)(e.state.folders),[t])})},e.addErrorNotes=function(t){e.setState({notesError:t})},e.addErrorFolders=function(t){e.setState({foldersError:t})},e.setFolders=function(t){e.setState({folders:t,error:null})},e.setNotes=function(t){e.setState({notes:t,error:null})},e.getFolders=function(){fetch(m,{method:"GET",headers:{"content-type":"application/json",Authorization:"Bearer ".concat(b)}}).then((function(e){if(!e.ok)throw new Error(e.status);return e.json()})).then(e.setFolders).catch((function(t){return e.setState({foldersError:t})}))},e.getNotes=function(){fetch(p,{method:"GET",headers:{"content-type":"application/json",Authorization:"Bearer ".concat(b)}}).then((function(e){if(!e.ok)throw new Error(e.status);return e.json()})).then(e.setNotes).catch((function(t){return e.setState({notesError:t})}))},e.updateFolders=function(t){var r=e.state.folders.map((function(e){return e.id!==t.id?e:t}));e.setState({folders:r})},e.updateNotes=function(t){var r=e.state.notes.map((function(e){return e.id!==t.id?e:t}));e.setState({notes:r})},e.handleClickDeleteFolder=function(t,r){fetch(m+"/".concat(t),{method:"DELETE",headers:{"content-type":"application/json",Authorization:"Bearer ".concat(b)}}).then((function(e){return e.ok&&"404"!==e.status?e.json():e.json().then((function(t){throw e.status}))})).then((function(n){e.deleteFolder(t),r.history.push("/")})).catch((function(n){404!==n&&e.addErrorFolders(n),404===n&&(e.deleteFolder(t),r.history.push("/"))}))},e}return Object(d.a)(r,[{key:"componentDidMount",value:function(){this.getFolders(),this.getNotes()}},{key:"render",value:function(){var e={notes:this.state.notes,folders:this.state.folders,deleteNote:this.deleteNote,addNote:this.addNote,addFolder:this.addFolder,addErrorNotes:this.addErrorNotes,addErrorFolders:this.addErrorFolders,notesError:this.notesError,updateFolders:this.updateFolders,updateNotes:this.updateNotes,handleClickDeleteFolder:this.handleClickDeleteFolder};return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(v,{}),Object(x.jsx)(O.Provider,{value:e,children:Object(x.jsxs)("main",{children:[Object(x.jsxs)("div",{className:"aside",children:[this.state.foldersError&&Object(x.jsx)("p",{className:"error",children:this.state.foldersError.value}),P.map((function(e){var t=e.path,r=e.exact,n=e.aside;return Object(x.jsx)(j.a,{path:t,exact:r,component:n},t)}))]}),Object(x.jsxs)("article",{children:[this.state.notesError&&Object(x.jsx)("p",{className:"error",children:this.state.notesError.value}),P.map((function(e){var t=e.path,r=e.exact,n=e.section;return Object(x.jsx)(j.a,{path:t,exact:r,component:n},t)}))]})]})}),Object(x.jsx)(g,{})]})}}]),r}(a.a.Component);s.a.render(Object(x.jsx)(i.a,{basename:"",children:Object(x.jsx)(Y,{})}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.b307621a.chunk.js.map